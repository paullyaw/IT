{% extends "base.html" %}
<!-- Begin page content -->
<main role="main" class="container" xmlns="http://www.w3.org/1999/html">
    {% block content %}
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <style>
      div{
      font-family: MullerMedium, sans-serif;
			font-size: 20px;

      }
    </style>
    <link href="/static/css/product.css" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <header class="read">
  <style>
    .container{
      width: 100%;
      top: 0;
  left: 0;
  right: 0;
    }
    .read {
      position: relative;
      text-align: center;
      overflow: hidden; /* добавляем свойство overflow, чтобы скрыть заблюренную область */
      width: 100%;
    }

    .read::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0; /* добавляем свойство left */
      width: 100vw;
      height: 100%;
      background: url('/static/img/{{ news.photo }}') no-repeat center;
      background-size: cover;
      z-index: -1;
      filter: blur(10px);
    }

    .text-container {
      position: absolute;
      text-align: left;
      bottom: 0;
      width: 100%;
      height: 133px;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 10px;
      color: #fff;
      opacity: 1;
      z-index: 1;
    }

    /* добавляем стиль для img */
    .read img {
      display: block;
      margin: auto; /* для выравнивания изображения */
      position: relative;
      z-index: 1; /* установим z-index, чтобы изображение было поверх заднего фона */
    }

    /* Добавляем стиль для контента новости */
  </style>

  <img style="width: 500px; height: 500px;" src="/static/img/{{ news.photo }}" alt="Your Image">
  <div class="text-container">
    <h1 class="display-4 fw-normal d-flex align-items-center" style="font-size: 40px;">{{ news.title }}</h1>
    <p class="lead fw-normal" style="font-size: 22px;">{{ news.subtitle }}</p>
  </div>
</header>

<footer>
  <style>
    .content {
       text-align: left;
      max-width: 850px;
      margin: auto;
      padding: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: MullerRegular, sans-serif;
      font-size: 20px;
    }
  </style>
  <div class="content">
    {{ news.content }}
  </div>
</footer>

{% if current_user.is_authenticated %}
        {% if current_user.has_liked(news) %}
          <a href="{{ url_for('unlike', news_id=news.id) }}" class="btn btn-danger unlike-btn">Удалить лайк</a>
        {% else %}
          <a href="{{ url_for('like', news_id=news.id) }}" class="btn btn-success">Поставить лайк</a>
        {% endif %}
      {% endif %}
{% if news.id != 1%}
<a class="navbar-brand ml-auto text-dark" href="/read_news/{{ back }}">Назад</a>
{% endif %}
{% if news.id - 1 != lenght%}
<a class="navbar-brand mr-auto text-dark" href="/read_news/{{ next }}">Вперед</a>
{% endif %}
{% if current_user.is_authenticated %}
    <h3>Комментарии</h3>
      {% for comment in comm %}
        <div class="comment">
          <p>{{comment.content}}</p>
        </div>
      {% endfor %}
      <form method="POST" action="{{ url_for('add_comment', id=news.id) }}">
        <div class="form-group">
          <textarea class="form-control" name="content"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Добавить комментарий</button>
      </form>
{% endif %}

</main>
    {% endblock %}
</main>
</body>